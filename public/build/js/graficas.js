var medidasLS=[],medidasLS2=[],medidasLS3=[],medidasLS4=[];function graficas(){$.ajax({url:"/sensores/peticion",type:"POST",data:{peticion:1},success:function(d){let e=JSON.parse(d);console.log(e),update_TE(e),update_HU(e)},error:function(d){console.error("Error en la solicitud:",d)}})}function update_TE(d){for(let e=0;e<d.length;e++)d[e].h!=e&&d.splice(e,0,{te:void 0,te_in:void 0});if(d.length<24){let e=24-d.length;for(let a=0;a<e;a++)d.push({te:void 0,te_in:void 0})}for(let e=0;e<d.length;e++)medidasLS[e]=d[e].te,medidasLS2[e]=d[e].te_in;grafica_TE.data.datasets[0].datos=medidasLS,grafica_TE.data.datasets[1].datos=medidasLS2,grafica_TE.update()}function update_HU(d){for(let e=0;e<d.length;e++)d[e].h!=e&&d.splice(e,0,{hu:void 0,hu_su:void 0});if(d.length<24){let e=24-d.length;for(let a=0;a<e;a++)d.push({hu:void 0,hu_su:void 0})}for(let e=0;e<d.length;e++)medidasLS3[e]=d[e].hu,medidasLS4[e]=d[e].hu_su;grafica_HU.data.datasets[2].datos=medidasLS,grafica_HU.data.datasets[3].datos=medidasLS2,grafica_HU.update()}document.addEventListener("DOMContentLoaded",(function(){graficas()}));const ctx_tem=document.getElementById("gra_tem").getContext("2d");var grafica_TE=new Chart(ctx_tem,{type:"line",data:{labels:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],datasets:[{label:"Temp exte",borderWidth:1,borderColor:"orange",backgroundColor:"orange",fill:!1,lineTension:.3,spanGaps:!0,data:[medidasLS[0],medidasLS[1],medidasLS[2],medidasLS[3],medidasLS[4],medidasLS[5],medidasLS[6],medidasLS[7],medidasLS[8],medidasLS[9],medidasLS[10],medidasLS[11],medidasLS[12],medidasLS[13],medidasLS[14],medidasLS[15],medidasLS[16],medidasLS[17],medidasLS[18],medidasLS[19],medidasLS[20],medidasLS[21],medidasLS[22],medidasLS[23]]},{label:"Temp inte",borderWidth:1,borderColor:"purple",backgroundColor:"purple",fill:!1,lineTension:.3,spanGaps:!0,data:[medidasLS2[0],medidasLS2[1],medidasLS2[2],medidasLS2[3],medidasLS2[4],medidasLS2[5],medidasLS2[6],medidasLS2[7],medidasLS2[8],medidasLS2[9],medidasLS[10],medidasLS2[11],medidasLS2[12],medidasLS2[13],medidasLS2[14],medidasLS2[15],medidasLS2[16],medidasLS2[17],medidasLS2[18],medidasLS2[19],medidasLS2[20],medidasLS2[21],medidasLS2[22],medidasLS2[23]]}]},options:{responsive:!0,plugins:{legend:{labels:{boxWidth:20,height:10,font:{size:10}}}},scales:{y:{suggestedMin:0,suggestedMax:100,ticks:{color:"black",font:{size:10}}},x:{ticks:{color:"black",font:{size:10}}}}}});const ctx_hume=document.getElementById("gra_hume");var grafica_HU=new Chart(ctx_hume,{type:"line",data:{labels:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],datasets:[{label:"Hu Aire",borderWidth:1,borderColor:"blue",backgroundColor:"blue",fill:!1,lineTension:.3,spanGaps:!0,data:[medidasLS3[0],medidasLS3[1],medidasLS3[2],medidasLS3[3],medidasLS3[4],medidasLS3[5],medidasLS3[6],medidasLS3[7],medidasLS3[8],medidasLS3[9],medidasLS3[10],medidasLS3[11],medidasLS3[12],medidasLS3[13],medidasLS3[14],medidasLS3[15],medidasLS3[16],medidasLS3[17],medidasLS3[18],medidasLS3[19],medidasLS3[20],medidasLS3[21],medidasLS3[22],medidasLS3[23]]},{label:"Hu Suelo",borderWidth:1,borderColor:"brown",backgroundColor:"brown",fill:!1,lineTension:.3,spanGaps:!0,data:[2[0],medidasLS4[1],medidasLS4[2],medidasLS4[3],medidasLS4[4],medidasLS4[5],medidasLS4[6],medidasLS4[7],medidasLS4[8],medidasLS4[9],medidasLS4[10],medidasLS4[11],medidasLS4[12],medidasLS4[13],medidasLS4[14],medidasLS4[15],medidasLS4[16],medidasLS4[17],medidasLS4[18],medidasLS4[19],medidasLS4[20],medidasLS4[21],medidasLS4[22],medidasLS4[23]]}]},options:{responsive:!0,plugins:{legend:{labels:{boxWidth:20,height:10,font:{size:10}}}},scales:{y:{suggestedMin:0,suggestedMax:100,ticks:{color:"black",font:{size:10}}},x:{ticks:{color:"black",font:{size:10}}}}}});